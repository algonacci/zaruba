includes:
  - ./core.action.project.zaruba.yaml
  - ./core.action.monorepo.zaruba.yaml
  - ./core.action.runscript.zaruba.yaml
  - ./core.action.ubuntu.zaruba.yaml

tasks:

  showVersion:
    icon: ðŸ”Ž
    description: Show zaruba version
    extend: core.runShellScript
    config:
      script: |
        {{ $d := .Decoration -}}
        echo "{{ $d.Bold }}{{ $d.Yellow }}Current version: $(git for-each-ref --sort=-taggerdate --count=1 --format '%(tag)' refs/tags) - $(git rev-parse --verify HEAD){{ $d.Normal }}"


  update:
    icon: ðŸ”„
    description: Update zaruba
    extend: core.runShellScript
    config: 
      script: |
        {{ $d := .Decoration -}}
        cd ${ZARUBA_HOME}
        echo "ðŸ”½ {{ $d.Bold }}{{ $d.Yellow }}Pull zaruba{{ $d.Normal }}"
        git pull origin master
        git fetch origin --tags
        echo "ðŸš§ {{ $d.Bold }}{{ $d.Yellow }}Compile zaruba{{ $d.Normal }}"
        go build
        echo ðŸŽ‰ðŸŽ‰ðŸŽ‰
        echo "{{ $d.Bold }}{{ $d.Yellow }}Zaruba ready!!!{{ $d.Normal }}"
        echo "{{ $d.Bold }}{{ $d.Yellow }}Current version: $(git for-each-ref --sort=-taggerdate --count=1 --format '%(tag)' refs/tags) - $(git rev-parse --verify HEAD){{ $d.Normal }}"
