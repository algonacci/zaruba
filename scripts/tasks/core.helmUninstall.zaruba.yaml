tasks:
  core.helmUninstall:
    private: true
    extend: core.runShellScript
    config:
      chart: ''
      releaseName: ''
      kubeContext: '{{ .GetValue "kubeContext" }}'
      start: |
        if [ "$(kubectl config current-context)" != "{{ .GetConfig "kubeContext" }}" ]
        then
          kubectl config use-context "{{ .GetConfig "kubeContext" }}"
        fi
        helm uninstall "{{ .GetConfig "releaseName" }}"
