tasks:

  core.runScript:
    icon: ðŸ“”
    description: |
      Run script.
      Common config:
        cmd           : Executable shell name
        cmdArg        : Executable shell argument
        setup         : Setup script
        beforeStart   : Before start script
        start         : Start script
        afterStart    : After start script
        finish        : Finish script
    private: true
    autoTerminate: true
    config:
      cmd: '{{ if .GetValue "defaultShell" }}{{ .GetValue "defaultShell" }}{{ else }}bash{{ end }}'
      cmdArg: "-c"
      setup: ''
      beforeStart: ''
      start: ''
      afterStart: ''
      finish: ''
      _setup: ''
      _start: ''
      _finish: ''
    env:
      PYTHONUNBUFFERED:
        from: PYTHONUNBUFFERED
        default: 1
    start:
      - '{{ .GetConfig "cmd" }}'
      - '{{ .GetConfig "cmdArg" }}'
      - |
        {{ .Util.Str.Trim (.GetConfig "_setup") "\n " }}
        {{ .Util.Str.Trim (.GetConfig "setup") "\n " }}
        {{ .Util.Str.Trim (.GetConfig "beforeStart") "\n " }}
        {{ .Util.Str.Trim (.GetConfig "_start") "\n " }}
        {{ .Util.Str.Trim (.GetConfig "start") "\n " }}
        {{ .Util.Str.Trim (.GetConfig "afterStart") "\n " }}
        {{ .Util.Str.Trim (.GetConfig "finish") "\n " }}
        {{ .Util.Str.Trim (.GetConfig "_finish") "\n " }}

