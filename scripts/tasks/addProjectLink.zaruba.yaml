tasks:

  addProjectLink:
    icon: ðŸ”—
    description: |
      Add link.
      TIPS: To update links, you should perform `zaruba please updateProjectLinks`
    extend: core.runCoreScript
    inputs:
      - linkFrom
      - linkTo
    dependencies:
      - core.isProject
    config:
      linkFrom: '{{ .GetValue "linkFrom" }}'
      linkTo: '{{ .GetValue "linkTo" }}'
      start: |
        {{ $d := .Decoration -}}
        "{{ .ZarubaBin }}" project setValue "{{ .GetWorkPath "default.values.yaml" }}" "link::{{ .GetConfig "linkTo" }}" "{{ .GetConfig "linkFrom" }}"
        echo ðŸŽ‰ðŸŽ‰ðŸŽ‰
        echo "{{ $d.Bold }}{{ $d.Yellow }}Link ${SOURCE} -> ${DESTINATION} has been added{{ $d.Normal }}"

