tasks:

  testHelmInstall:
    icon: ðŸ’‰
    location: ./playground
    dependencies:
      - testPlayground
      - runContainerRegistry
    extend: core.runShellScript 
    config:
      start: |
        set -e
        ZARUBA_HOME="$(realpath "..")"
        ../zaruba please syncEnv 
        ../zaruba please helmInstall kubeContext=docker-desktop


  testHelmUninstall:
    icon: ðŸ’‰
    location: ./playground
    dependencies:
      - testHelmInstall
    extend: core.runShellScript 
    config:
      start: |
        set -e
        ZARUBA_HOME="$(realpath "..")"
        ../zaruba please helmUninstall kubeContext=docker-desktop


  stopContainerRegistry:
    icon: ðŸ’‰
    location: ./playground
    dependencies:
      - testPushImage
      - testHelmInstall
    extend: core.runShellScript
    timeout: 1h
    config:
      start: |
        set -e
        docker stop containerRegistry
  
    