components:
  servicename:
    type: service
    origin: "" # fill this one with your git repository
    branch: master
    env:
      SERVICENAME_HTTP_PORT: 3010
      GLOBAL_RMQ_CONNECTION_STRING: amqp://${RABBITMQ_DEFAULT_USER}:${RABBITMQ_DEFAULT_PASS}@${rmqGlobal}:5672/
      LOCAL_RMQ_CONNECTION_STRING: amqp://${RABBITMQ_DEFAULT_USER}:${RABBITMQ_DEFAULT_PASS}@${rmqGlobal}:5672/
    location: "."
    start: go build && ./app
    readinessCheck: curl ${servicename}:${SERVICENAME_HTTP_PORT}/readiness
    dependencies:
      - rmqGlobal

links:
  ../../libraries/go/transport:
    - ./transport
  ../../libraries/go/core:
    - ./core
