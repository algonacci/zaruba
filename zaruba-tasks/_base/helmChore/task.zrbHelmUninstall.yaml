tasks:

  zrbHelmUninstall:
    private: true
    extend: zrbRunShellScript
    dependencies:
      - zrbSetKubeContext
    configRefs:
      - zrbKube
      - zrbHelm
    config:
      _start: |
        _ZRB_RELEASE_NAME='{{ .GetConfig "releaseName" }}'
        _ZRB_KEBAB_RELEASE_NAME="$("{{ .ZarubaBin }}" str toKebab "${_ZRB_RELEASE_NAME}")"
        helm uninstall --namespace "{{ .GetConfig "kubeNamespace" }}" "${_ZRB_KEBAB_RELEASE_NAME}"
      start: ''
