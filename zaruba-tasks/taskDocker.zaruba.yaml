tasks:

  buildDocker:
    icon: 🚧
    dependencies:
      
      - buildZarubaImage
      - buildZarubaAwsImage
      - buildZarubaGcloudImage
      - buildDevboxImage

  pushDocker:
    icon: 🔼
    dependencies:
      
      - pushZarubaImage
      - pushZarubaAwsImage
      - pushZarubaGcloudImage
      - pushDevboxImage

  buildZarubaAwsImage:
    icon: 🐳
    extend: core.buildDockerImage
    location: ../
    dependencies:
      - buildZarubaImage
    configRefs:
      - commonDocker
      - zarubaAwsDocker
    timeout: 1h

  buildZarubaGcloudImage:
    icon: 🐳
    extend: core.buildDockerImage
    location: ../
    dependencies:
      - buildZarubaImage
    configRefs:
      - commonDocker
      - zarubaGcloudDocker
    timeout: 1h

  buildZarubaImage:
    icon: 🐳
    extend: core.buildDockerImage
    location: ../
    dependencies:
      - buildDevboxImage
    configRefs:
      - commonDocker
      - zarubaDocker
    timeout: 1h

  buildDevboxImage:
    icon: 🐳
    extend: core.buildDockerImage
    location: ../
    configRefs:
      - commonDocker
      - devboxDocker
    timeout: 1h

  pushZarubaAwsImage:
    icon: 🐳
    extend: core.pushDockerImage
    dependencies:
      - buildZarubaAwsImage
    configRefs:
      - commonDocker
      - zarubaAwsDocker
    timeout: 1h

  pushZarubaGcloudImage:
    icon: 🐳
    extend: core.pushDockerImage
    dependencies:
      - buildZarubaGcloudImage
    configRefs:
      - commonDocker
      - zarubaGcloudDocker
    timeout: 1h

  pushZarubaImage:
    icon: 🐳
    extend: core.pushDockerImage
    dependencies:
      - buildZarubaImage
    configRefs:
      - commonDocker
      - zarubaDocker
    timeout: 1h

  pushDevboxImage:
    icon: 🐳
    extend: core.pushDockerImage
    dependencies:
      - buildDevboxImage
    configRefs:
      - commonDocker
      - devboxDocker
    timeout: 1h