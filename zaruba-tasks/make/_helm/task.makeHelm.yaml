tasks:
 
  makeHelm:
    icon: ðŸš¢
    extend: makeApp
    inputs:
      - deploymentDirectory
    configs:
      _validate: |
        {{ $d := .Decoration -}}
        if [ -d "${_ZRB_APP_DIRECTORY}Helm" ]
        then
          echo "{{ $d.Yellow }}[SKIP] Directory ${_ZRB_APP_DIRECTORY}Helm already exist.{{ $d.Normal }}"
          exit 0
        fi
      templateLocations: |
        [
          "{{ .ZarubaHome }}/zaruba-tasks/make/_helm/helmTemplate"
        ]
      valueTemplateLocation: '{{ .ZarubaHome }}/zaruba-tasks/make/_helm/helmTemplatePartial/valueTemplate'
      _integrate: |
        cp -r "{{ .GetConfig "valueTemplateLocation" }}" "${_ZRB_DEPLOYMENT_DIRECTORY}/valueTemplate"