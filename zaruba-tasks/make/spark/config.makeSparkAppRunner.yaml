configs:

  makeSparkAppRunner:
    appIcon: ðŸ’¥
    defaultAppDirectory: '{{ .ProjectName }}Spark'
    appSparkMasterPorts: '{{ .GetValue "sparkMasterPorts" }}'
    appSparkWorkerPorts: '{{ .GetValue "sparkWorkerPorts" }}'
    defaultAppContainerVolumes: |
      [
        "conf:/opt/bitnami/spark/conf"
      ]
    templateLocations: |
      [
        "{{ .ZarubaHome }}/zaruba-tasks/make/appRunner/_base/template",
        "{{ .ZarubaHome }}/zaruba-tasks/make/appRunner/dockerContainer/template",
        "{{ .ZarubaHome }}/zaruba-tasks/make/spark/appRunnerTemplate"
      ]
    _prepareVariables: |
      _ZRB_APP_SPARK_MASTER_PORTS='{{ .GetConfig "appSparkMasterPorts" }}'
      _ZRB_APP_SPARK_WORKER_PORTS='{{ .GetConfig "appSparkWorkerPorts" }}'
      . "{{ .ZarubaHome }}/zaruba-tasks/make/spark/bash/prepareVariables.sh"
    _prepareReplacementMap: |
      . "{{ .ZarubaHome }}/zaruba-tasks/make/spark/bash/prepareReplacementMap.sh"
    _adjustPermission: |
      chmod -R 777 "${_ZRB_APP_DIRECTORY}/sparkMaster/conf"
      chmod -R 777 "${_ZRB_APP_DIRECTORY}/sparkWorker/conf"
    _containerPrepareAppRunnerTaskName: 'wait${_ZRB_PASCAL_APP_NAME}Prerequisites'