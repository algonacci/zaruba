tasks:
 
  addFastApiModule:
    icon: âš¡
    extend: makeApp
    dependencies:
      - addFastApi
    inputs:
      - appDirectory
      - appModuleName
    config:
      defaultAppDirectory: '{{ .ProjectName }}FastApi'
      templateLocations: |
        [
          "{{ .ZarubaHome }}/zaruba-tasks/make/fastApiModule/template"
        ]
      _validate: |
        {{ $d := .Decoration -}}
        if [ -d "${_ZRB_APP_DIRECTORY}/${_ZRB_APP_MODULE_NAME}" ]
        then
          echo "{{ $d.Yellow }}{{ $d.Bold }}[SKIP] Directory ${_ZRB_APP_DIRECTORY}/${_ZRB_APP_MODULE_NAME} already exist.{{ $d.Normal }}"
          exit 0
        fi
      _integrate: |
        . "{{ .ZarubaHome }}/zaruba-tasks/make/fastApiModule/bash/registerModule.sh"