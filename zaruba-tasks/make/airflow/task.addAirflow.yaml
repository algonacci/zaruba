tasks:
 
  makeAirflowApp:
    icon: 🎐
    extend: makeApp
    inputs:
      - appDirectory
    config:
      templateLocations: |
        [
          "{{ .ZarubaHome }}/zaruba-tasks/make/airflow/appTemplate"
        ]

  addAirflow:
    icon: 🎐
    extend: makeContainerAppRunner
    dependencies:
      - makeAirflowApp
    inputs:
      - appDirectory
      - appDependencies
      - appName
      - appEnvs
      - appPorts
      - appImageName
      - appContainerName
    config:
      appIcon: 🎐
      defaultAppPorts: |
        [
          "6379"
        ]
      templateLocations: |
        [
          "{{ .ZarubaHome }}/zaruba-tasks/make/_task/appRunner/_base/template",
          "{{ .ZarubaHome }}/zaruba-tasks/make/_task/appRunner/container/template",
          "{{ .ZarubaHome }}/zaruba-tasks/make/airflow/taskTemplate"
        ]